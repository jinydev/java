<!doctype html>
<html lang="ko">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- 기본 메타데이터 --><meta name="description" content="Jiny linux"><meta name="author" content="HojinLee"><!-- 제목 설정 --><title>Chapter 20. 데이터베이스 입출력</title>
  <meta name="title" content="Chapter 20. 데이터베이스 입출력" /><!-- 키워드 설정 --><!-- Open Graph 메타데이터 --><meta property="og:title" content="Chapter 20. 데이터베이스 입출력"><meta property="og:description" content="Jiny linux"><meta property="og:type" content="website"><meta property="og:locale" content="ko">
  <meta property="og:site_name" content="linux">
  <meta property="og:url" content="https://java.jiny.dev/part04/20/">

  <!-- Twitter 카드 메타데이터 --><meta name="twitter:card" content="summary"><meta property="twitter:title" content="Chapter 20. 데이터베이스 입출력"><!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Chapter 20. 데이터베이스 입출력" />
<meta name="author" content="Hojin" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="자바 언어를 통한 객체지향 프로그래밍의 이해와 실습" />
<meta property="og:description" content="자바 언어를 통한 객체지향 프로그래밍의 이해와 실습" />
<link rel="canonical" href="https://java.jiny.dev/part04/20/" />
<meta property="og:url" content="https://java.jiny.dev/part04/20/" />
<meta property="og:site_name" content="객체지향 자바 프로그래밍 (Object-Oriented Java Programming)" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Chapter 20. 데이터베이스 입출력" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Hojin"},"description":"자바 언어를 통한 객체지향 프로그래밍의 이해와 실습","headline":"Chapter 20. 데이터베이스 입출력","url":"https://java.jiny.dev/part04/20/"}</script>
<!-- End Jekyll SEO tag -->


  <link href="/assets/css/bootstrap.min.css" rel="stylesheet" />
  <link href="/assets/css/docs.css" rel="stylesheet" />
  <link href="/assets/css/highlight.css" rel="stylesheet" />

  <style>
    blockquote {
      border-left: solid 5px #dee2e6;
      padding: 5px 10px;
      background-color: #f8f9fa;
    }
  </style>

  <style>
    h1 a {
      text-decoration: none;
    }

    h2 a {
      text-decoration: none;
    }

    h3 a {
      text-decoration: none;
    }

    h4 a {
      text-decoration: none;
    }

    h5 a {
      text-decoration: none;
    }

    h6 a {
      text-decoration: none;
    }

    img {
      max-width: 100%;
      height: auto;
      vertical-align: top
    }

    strong a {
      text-decoration: none;
      color: inherit;
    }

    /* 스크롤바 커스텀 */
    /* 임의의 영역 생성 */
    .scrollBar {}

    /* 아래의 모든 코드는 영역::코드로 사용 */
    .scrollBar::-webkit-scrollbar {
      width: 7px;
      /* 스크롤바의 너비 */
    }

    .scrollBar::-webkit-scrollbar-thumb {
      height: 30%;
      /* 스크롤바의 길이 */
      background: #cccccc;
      /* 스크롤바의 색상 */

      border-radius: 5px;
    }

    .scrollBar::-webkit-scrollbar-track {
      background: rgba(33, 122, 244, .1);
      /*스크롤바 뒷 배경 색상*/
    }
  </style>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-R4VBPCT3CR"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-R4VBPCT3CR');
  </script>


</head>

<body>
  <header class="navbar navbar-expand-lg bd-navbar sticky-top">
    <nav class="container bd-gutter flex-wrap flex-lg-nowrap position-relative" aria-label="Main navigation">

      <!-- Mobile: Left Toggle (Browse) -->
      <div class="bd-navbar-toggle d-lg-none">
        <button class="navbar-toggler p-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#bdSidebar"
          aria-controls="bdSidebar" aria-label="Toggle docs navigation">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" class="bi" fill="currentColor"
            viewBox="0 0 16 16">
            <path fill-rule="evenodd"
              d="M2.5 11.5A.5.5 0 0 1 3 11h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 3h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z">
            </path>
          </svg>
          <span class="d-none fs-6 pe-1">Browse</span>
        </button>
      </div>

      <!-- Brand: Desktop (Static), Mobile (Absolute Center) -->
      <a class="navbar-brand p-0 me-0 me-lg-2 ms-lg-0 d-none d-lg-inline-block" href="/" aria-label="jinydev">
        <svg width="32" height="26" viewBox="0 0 32 29" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M24.2746 5.33377C25.8486 7.33981 25.1183 11.1792 24.3961 13.0177C24.4028 13.0199 24.4094 13.0221 24.4161 13.0243L24.4013 13.0248L22.649 12.9082C22.649 12.9053 22.6488 12.9013 22.649 12.8993C22.9902 8.93373 22.5975 7.34575 22.2147 7.07677C17.6316 10.3896 13.5379 9.33658 12.2725 9.01111C11.928 8.9225 11.7932 8.88781 11.9152 9.00988C12.2872 9.38185 13.1336 9.82821 13.7371 10.1465H13.7372L13.7376 10.1467C13.8743 10.2188 13.9985 10.2843 14.1019 10.3409C9.12673 10.3984 7.12659 8.00279 6.53855 7.29846C6.47859 7.22664 6.4333 7.1724 6.40105 7.14015C6.11408 6.85318 4.49961 5.87252 3.99256 7.74227C3.50142 9.55335 3.81246 11.6775 3.97665 12.7988C3.99089 12.896 3.99257 12.8981 3.99257 12.9298L2.37635 13.0248L2.37213 13.0247C0.223493 8.05534 1.83854 5.26971 3.29536 4.2246C3.29536 1.78444 6.27428 -0.592359 10.0455 0.263262C14.8768 1.64043 16.3468 1.18409 18.0759 0.647278C18.774 0.430562 19.5143 0.200726 20.5351 0.073124C25.2219 -0.512739 26.7993 2.56612 27 4.16122C26.2141 3.70487 24.8556 4.73165 24.2746 5.33377ZM12.3374 1.5872C11.1225 1.16466 7.99257 0.717209 6.3478 2.41116C5.98397 2.78587 5.55554 3.48864 5.55554 3.48864C5.55554 3.48864 4.82665 4.81961 4.25622 4.24919C3.68579 3.67878 5.0168 1.96749 6.06259 1.46044C7.10838 0.953388 9.70703 0.0660505 12.3374 1.5872Z"
            fill="currentColor" />
          <path
            d="M10.078 13.5002H3.10601C2.2309 13.5002 1.52148 14.2097 1.52148 15.0848V18.3172C1.52148 19.1923 2.2309 19.9018 3.10601 19.9018H10.078C10.9531 19.9018 11.6625 19.1923 11.6625 18.3172V15.0848C11.6625 14.2097 10.9531 13.5002 10.078 13.5002Z"
            stroke="currentColor" stroke-width="1.26763" />
          <path
            d="M0.823513 14.6094H0.379847C0.187322 14.6094 0.03125 14.7654 0.03125 14.958V15.9721C0.03125 16.1646 0.187322 16.3207 0.379847 16.3207H0.823513C1.01604 16.3207 1.17211 16.1646 1.17211 15.9721V14.958C1.17211 14.7654 1.01604 14.6094 0.823513 14.6094Z"
            fill="currentColor" stroke="currentColor" stroke-width="0.0633813" />
          <path
            d="M16.7326 13.5002H23.7045C24.5796 13.5002 25.2891 14.2097 25.2891 15.0848V18.3172C25.2891 19.1923 24.5796 19.9018 23.7045 19.9018H16.7326C15.8575 19.9018 15.1481 19.1923 15.1481 18.3172V15.0848C15.1481 14.2097 15.8575 13.5002 16.7326 13.5002Z"
            stroke="currentColor" stroke-width="1.26763" />
          <path
            d="M25.9861 14.6094H26.4297C26.6222 14.6094 26.7783 14.7654 26.7783 14.958V15.9721C26.7783 16.1646 26.6222 16.3207 26.4297 16.3207H25.9861C25.7935 16.3207 25.6375 16.1646 25.6375 15.9721V14.958C25.6375 14.7654 25.7935 14.6094 25.9861 14.6094Z"
            fill="currentColor" stroke="currentColor" stroke-width="0.0633813" />
          <path
            d="M12.2954 15.5601H14.5137C14.7062 15.5601 14.8623 15.7161 14.8623 15.9087V16.9228C14.8623 17.1153 14.7062 17.2713 14.5137 17.2713H12.2954C12.1028 17.2713 11.9468 17.1153 11.9468 16.9228V15.9087C11.9468 15.7161 12.1028 15.5601 12.2954 15.5601Z"
            fill="currentColor" stroke="currentColor" stroke-width="0.0633813" />
          <path
            d="M9.93343 16.3937C9.93343 16.7087 9.76317 16.9641 9.55314 16.9641C9.34311 16.9641 9.17285 16.7087 9.17285 16.3937C9.17285 16.0786 9.34311 15.8232 9.55314 15.8232C9.76317 15.8232 9.93343 16.0786 9.93343 16.3937Z"
            fill="currentColor" />
          <path
            d="M16.9688 16.3937C16.9688 16.7087 17.139 16.9641 17.3491 16.9641C17.5591 16.9641 17.7293 16.7087 17.7293 16.3937C17.7293 16.0786 17.5591 15.8232 17.3491 15.8232C17.139 15.8232 16.9688 16.0786 16.9688 16.3937Z"
            fill="currentColor" />
          <path
            d="M14.2758 20.1016C13.642 20.6086 12.7863 20.3551 12.5645 20.1016C12.6278 20.4185 12.8687 20.8622 13.4518 20.8622C14.0349 20.8622 14.2441 20.3551 14.2758 20.1016Z"
            fill="currentColor" />
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M12.1312 22.411C12.1575 22.2914 12.2759 22.2157 12.3956 22.2421L14.6347 22.735C14.7544 22.7614 14.83 22.8797 14.8036 22.9994C14.7773 23.119 14.659 23.1947 14.5393 23.1683L12.3002 22.6753C12.1805 22.649 12.1049 22.5307 12.1312 22.411Z"
            fill="currentColor" />
          <path
            d="M13.4203 27.6754C9.00897 27.7261 5.77228 23.6613 4.70536 21.6225C4.54691 21.3197 4.42016 21.2739 4.32509 21.3373C4.17297 21.4387 4.28282 21.6437 4.32507 21.7493C4.85747 22.9916 5.58213 24.0416 5.87791 24.4113C4.83846 26.1353 4.49409 27.855 4.45183 28.4994C6.1758 26.8008 7.91668 26.8832 8.57162 27.1367C13.7055 29.7987 16.5577 27.929 18.1739 27.1367C19.4669 26.5029 21.4803 27.7388 22.3254 28.436C22.224 26.8642 21.3747 25.1402 20.9627 24.4747C21.6282 23.5873 22.1669 22.5099 22.4522 21.9711C22.6803 21.5401 22.6106 21.369 22.5472 21.3373C22.3951 21.2613 22.2092 21.4958 22.1353 21.6225C21.6599 22.4148 18.9345 27.6121 13.4203 27.6754Z"
            fill="currentColor" />
        </svg>
      </a>
      <a class="navbar-brand p-0 me-0 position-absolute top-50 start-50 translate-middle d-lg-none" href="/"
        aria-label="jinydev">
        <svg width="100" height="26" viewBox="0 0 112 29" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M24.2746 5.33377C25.8486 7.33981 25.1183 11.1792 24.3961 13.0177C24.4028 13.0199 24.4094 13.0221 24.4161 13.0243L24.4013 13.0248L22.649 12.9082C22.649 12.9053 22.6488 12.9013 22.649 12.8993C22.9902 8.93373 22.5975 7.34575 22.2147 7.07677C17.6316 10.3896 13.5379 9.33658 12.2725 9.01111C11.928 8.9225 11.7932 8.88781 11.9152 9.00988C12.2872 9.38185 13.1336 9.82821 13.7371 10.1465H13.7372L13.7376 10.1467C13.8743 10.2188 13.9985 10.2843 14.1019 10.3409C9.12673 10.3984 7.12659 8.00279 6.53855 7.29846C6.47859 7.22664 6.4333 7.1724 6.40105 7.14015C6.11408 6.85318 4.49961 5.87252 3.99256 7.74227C3.50142 9.55335 3.81246 11.6775 3.97665 12.7988C3.99089 12.896 3.99257 12.8981 3.99257 12.9298L2.37635 13.0248L2.37213 13.0247C0.223493 8.05534 1.83854 5.26971 3.29536 4.2246C3.29536 1.78444 6.27428 -0.592359 10.0455 0.263262C14.8768 1.64043 16.3468 1.18409 18.0759 0.647278C18.774 0.430562 19.5143 0.200726 20.5351 0.073124C25.2219 -0.512739 26.7993 2.56612 27 4.16122C26.2141 3.70487 24.8556 4.73165 24.2746 5.33377ZM12.3374 1.5872C11.1225 1.16466 7.99257 0.717209 6.3478 2.41116C5.98397 2.78587 5.55554 3.48864 5.55554 3.48864C5.55554 3.48864 4.82665 4.81961 4.25622 4.24919C3.68579 3.67878 5.0168 1.96749 6.06259 1.46044C7.10838 0.953388 9.70703 0.0660505 12.3374 1.5872Z"
            fill="currentColor" />
          <path
            d="M10.078 13.5002H3.10601C2.2309 13.5002 1.52148 14.2097 1.52148 15.0848V18.3172C1.52148 19.1923 2.2309 19.9018 3.10601 19.9018H10.078C10.9531 19.9018 11.6625 19.1923 11.6625 18.3172V15.0848C11.6625 14.2097 10.9531 13.5002 10.078 13.5002Z"
            stroke="currentColor" stroke-width="1.26763" />
          <path
            d="M0.823513 14.6094H0.379847C0.187322 14.6094 0.03125 14.7654 0.03125 14.958V15.9721C0.03125 16.1646 0.187322 16.3207 0.379847 16.3207H0.823513C1.01604 16.3207 1.17211 16.1646 1.17211 15.9721V14.958C1.17211 14.7654 1.01604 14.6094 0.823513 14.6094Z"
            fill="currentColor" stroke="currentColor" stroke-width="0.0633813" />
          <path
            d="M16.7326 13.5002H23.7045C24.5796 13.5002 25.2891 14.2097 25.2891 15.0848V18.3172C25.2891 19.1923 24.5796 19.9018 23.7045 19.9018H16.7326C15.8575 19.9018 15.1481 19.1923 15.1481 18.3172V15.0848C15.1481 14.2097 15.8575 13.5002 16.7326 13.5002Z"
            stroke="currentColor" stroke-width="1.26763" />
          <path
            d="M25.9861 14.6094H26.4297C26.6222 14.6094 26.7783 14.7654 26.7783 14.958V15.9721C26.7783 16.1646 26.6222 16.3207 26.4297 16.3207H25.9861C25.7935 16.3207 25.6375 16.1646 25.6375 15.9721V14.958C25.6375 14.7654 25.7935 14.6094 25.9861 14.6094Z"
            fill="currentColor" stroke="currentColor" stroke-width="0.0633813" />
          <path
            d="M12.2954 15.5601H14.5137C14.7062 15.5601 14.8623 15.7161 14.8623 15.9087V16.9228C14.8623 17.1153 14.7062 17.2713 14.5137 17.2713H12.2954C12.1028 17.2713 11.9468 17.1153 11.9468 16.9228V15.9087C11.9468 15.7161 12.1028 15.5601 12.2954 15.5601Z"
            fill="currentColor" stroke="currentColor" stroke-width="0.0633813" />
          <path
            d="M9.93343 16.3937C9.93343 16.7087 9.76317 16.9641 9.55314 16.9641C9.34311 16.9641 9.17285 16.7087 9.17285 16.3937C9.17285 16.0786 9.34311 15.8232 9.55314 15.8232C9.76317 15.8232 9.93343 16.0786 9.93343 16.3937Z"
            fill="currentColor" />
          <path
            d="M16.9688 16.3937C16.9688 16.7087 17.139 16.9641 17.3491 16.9641C17.5591 16.9641 17.7293 16.7087 17.7293 16.3937C17.7293 16.0786 17.5591 15.8232 17.3491 15.8232C17.139 15.8232 16.9688 16.0786 16.9688 16.3937Z"
            fill="currentColor" />
          <path
            d="M14.2758 20.1016C13.642 20.6086 12.7863 20.3551 12.5645 20.1016C12.6278 20.4185 12.8687 20.8622 13.4518 20.8622C14.0349 20.8622 14.2441 20.3551 14.2758 20.1016Z"
            fill="currentColor" />
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M12.1312 22.411C12.1575 22.2914 12.2759 22.2157 12.3956 22.2421L14.6347 22.735C14.7544 22.7614 14.83 22.8797 14.8036 22.9994C14.7773 23.119 14.659 23.1947 14.5393 23.1683L12.3002 22.6753C12.1805 22.649 12.1049 22.5307 12.1312 22.411Z"
            fill="currentColor" />
          <path
            d="M13.4203 27.6754C9.00897 27.7261 5.77228 23.6613 4.70536 21.6225C4.54691 21.3197 4.42016 21.2739 4.32509 21.3373C4.17297 21.4387 4.28282 21.6437 4.32507 21.7493C4.85747 22.9916 5.58213 24.0416 5.87791 24.4113C4.83846 26.1353 4.49409 27.855 4.45183 28.4994C6.1758 26.8008 7.91668 26.8832 8.57162 27.1367C13.7055 29.7987 16.5577 27.929 18.1739 27.1367C19.4669 26.5029 21.4803 27.7388 22.3254 28.436C22.224 26.8642 21.3747 25.1402 20.9627 24.4747C21.6282 23.5873 22.1669 22.5099 22.4522 21.9711C22.6803 21.5401 22.6106 21.369 22.5472 21.3373C22.3951 21.2613 22.2092 21.4958 22.1353 21.6225C21.6599 22.4148 18.9345 27.6121 13.4203 27.6754Z"
            fill="currentColor" />
          <text x="32" y="21" font-family="Arial, sans-serif" font-weight="bold" font-size="22"
            fill="currentColor">Jiny</text>
        </svg>
      </a>

      <!-- Mobile: Right Toggle (Menu) -->
      <div class="d-flex d-lg-none ms-auto">
        <button class="navbar-toggler p-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#bdNavbar"
          aria-controls="bdNavbar" aria-label="Toggle navigation">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grid"
            viewBox="0 0 16 16">
            <path
              d="M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3zM2.5 2a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zM1 10.5A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3z" />
          </svg>
        </button>
      </div>

      <!-- OffCanvas -->
      <div class="offcanvas-lg offcanvas-end flex-grow-1" tabindex="-1" id="bdNavbar"
        aria-labelledby="bdNavbarOffcanvasLabel" data-bs-scroll="true">
        <!-- OffCanver Header -->
        <div class="offcanvas-header px-4 pb-0">
          <h5 class="offcanvas-title text-white" id="bdNavbarOffcanvasLabel">Jiny</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"
            data-bs-target="#bdNavbar">
          </button>
        </div>

        <!-- OffCanver Body -->
        <div class="offcanvas-body p-4 pt-0 p-lg-0">
          <hr class="d-lg-none text-white-50">

          <ul class="navbar-nav flex-column flex-lg-row bd-navbar-nav">
            
            <li class="nav-item">
              <a class="nav-link py-2 px-0 px-lg-2" href="/part01/">자바 기초</a>
            </li>
            
            <li class="nav-item">
              <a class="nav-link py-2 px-0 px-lg-2" href="/part02/">객체지향</a>
            </li>
            
            <li class="nav-item">
              <a class="nav-link py-2 px-0 px-lg-2" href="/part03/">라이브러리</a>
            </li>
            
            <li class="nav-item">
              <a class="nav-link py-2 px-0 px-lg-2" href="/part04/">데이터 I/O</a>
            </li>
            
            <li class="nav-item">
              <a class="nav-link py-2 px-0 px-lg-2" href="/part05/">최신 자바</a>
            </li>
            
          </ul>

          <hr class="d-lg-none text-white-50">

          <ul class="navbar-nav flex-row flex-wrap ms-md-auto">
            <li class="nav-item col-6 col-lg-auto">
              <a class="nav-link py-2 px-0 px-lg-2" href="https://github.com/jinydev/datas" target="_blank"
                rel="noopener">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" class="navbar-nav-svg"
                  viewBox="0 0 512 499.36" role="img">
                  <title>GitHub</title>
                  <path fill="currentColor" fill-rule="evenodd"
                    d="M256 0C114.64 0 0 114.61 0 256c0 113.09 73.34 209 175.08 242.9 12.8 2.35 17.47-5.56 17.47-12.34 0-6.08-.22-22.18-.35-43.54-71.2 15.49-86.2-34.34-86.2-34.34-11.64-29.57-28.42-37.45-28.42-37.45-23.27-15.84 1.73-15.55 1.73-15.55 25.69 1.81 39.21 26.38 39.21 26.38 22.84 39.12 59.92 27.82 74.5 21.27 2.33-16.54 8.94-27.82 16.25-34.22-56.84-6.43-116.6-28.43-116.6-126.49 0-27.95 10-50.8 26.35-68.69-2.63-6.48-11.42-32.5 2.51-67.75 0 0 21.49-6.88 70.4 26.24a242.65 242.65 0 0 1 128.18 0c48.87-33.13 70.33-26.24 70.33-26.24 14 35.25 5.18 61.27 2.55 67.75 16.41 17.9 26.31 40.75 26.31 68.69 0 98.35-59.85 120-116.88 126.32 9.19 7.9 17.38 23.53 17.38 47.41 0 34.22-.31 61.83-.31 70.23 0 6.85 4.61 14.81 17.6 12.31C438.72 464.97 512 369.08 512 256.02 512 114.62 397.37 0 256 0z">
                  </path>
                </svg>
                <small class="d-lg-none ms-2">GitHub</small>
              </a>
            </li>

            <li class="nav-item py-2 py-lg-1 col-12 col-lg-auto">
              <div class="vr d-none d-lg-flex h-100 mx-lg-2 text-white"></div>
              <hr class="d-lg-none my-2 text-white-50">
            </li>

            <li class="nav-item col-6 col-lg-auto">
              <a class="nav-link py-2 px-0 px-lg-2" href="https://jiny.dev" aria-label="Home">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" class="navbar-nav-svg"
                  viewBox="0 0 16 16" role="img">
                  <title>Home</title>
                  <path fill="currentColor"
                    d="M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146zM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4H2.5z" />
                </svg>
                <small class="d-lg-none ms-2">Home</small>
              </a>
            </li>
          </ul>

        </div>
      </div>
    </nav>
  </header>

  <div class="container bd-gutter mt-3 my-md-4 bd-layout">
    <aside class="bd-sidebar scrollBar">
        <div class="offcanvas-lg offcanvas-start" tabindex="-1" id="bdSidebar"
            aria-labelledby="bdSidebarOffcanvasLabel">
            <div class="offcanvas-header border-bottom">
                <h5 class="offcanvas-title" id="bdSidebarOffcanvasLabel">학습목차</h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"
                    data-bs-target="#bdSidebar"></button>
            </div>

            <div class="offcanvas-body">
                <!-- 네비게이션 -->
                <nav class="bd-links w-100" id="bd-docs-nav" aria-label="Docs navigation">
  <ul class="bd-links-nav list-unstyled mb-0 pb-3 pb-md-2 pe-lg-2">
    <li class="bd-links-group py-2">
      <strong class="bd-links-heading d-flex w-100 align-items-center fw-semibold">
        강의 목차
      </strong>
      <ul class="list-unstyled fw-normal pb-2 small">
        
        

        
        <li>
          
          
          
          <button
            class="bd-links-link bd-links-btn btn d-inline-flex align-items-center rounded border-0 collapsed w-100"
            data-bs-toggle="collapse" data-bs-target="#collapse-1"
            aria-expanded="false">
            18. 데이터 입출력
            <svg class="bi ms-auto" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor"
              xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd"
                d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z" />
            </svg>
          </button>
          <div class="collapse " id="collapse-1">
            <ul class="list-unstyled fw-normal pb-1 small ms-3">
              
              <li>
                <a href="/part04/18/"
                  class="bd-links-link d-inline-block rounded ">
                  18. 데이터 입출력
                </a>
              </li>
              
              <li>
                <a href="/part04/18/#181-입출력-스트림"
                  class="bd-links-link d-inline-block rounded ">
                  18.1 입출력 스트림
                </a>
              </li>
              
              <li>
                <a href="/part04/18/#182-바이트-출력-스트림"
                  class="bd-links-link d-inline-block rounded ">
                  18.2 바이트 출력 스트림
                </a>
              </li>
              
              <li>
                <a href="/part04/18/#183-바이트-입력-스트림"
                  class="bd-links-link d-inline-block rounded ">
                  18.3 바이트 입력 스트림
                </a>
              </li>
              
              <li>
                <a href="/part04/18/#184-문자-입출력-스트림"
                  class="bd-links-link d-inline-block rounded ">
                  18.4 문자 입출력 스트림
                </a>
              </li>
              
              <li>
                <a href="/part04/18/#185-보조-스트림"
                  class="bd-links-link d-inline-block rounded ">
                  18.5 보조 스트림
                </a>
              </li>
              
              <li>
                <a href="/part04/18/#186-문자-변환-스트림"
                  class="bd-links-link d-inline-block rounded ">
                  18.6 문자 변환 스트림
                </a>
              </li>
              
              <li>
                <a href="/part04/18/#187-성능-향상-스트림"
                  class="bd-links-link d-inline-block rounded ">
                  18.7 성능 향상 스트림
                </a>
              </li>
              
              <li>
                <a href="/part04/18/#188-기본-타입-스트림"
                  class="bd-links-link d-inline-block rounded ">
                  18.8 기본 타입 스트림
                </a>
              </li>
              
              <li>
                <a href="/part04/18/#189-프린트-스트림"
                  class="bd-links-link d-inline-block rounded ">
                  18.9 프린트 스트림
                </a>
              </li>
              
              <li>
                <a href="/part04/18/#1810-객체-스트림"
                  class="bd-links-link d-inline-block rounded ">
                  18.10 객체 스트림
                </a>
              </li>
              
              <li>
                <a href="/part04/18/#1811-File과-Files-클래스"
                  class="bd-links-link d-inline-block rounded ">
                  18.11 File과 Files 클래스
                </a>
              </li>
              
            </ul>
          </div>
          
        </li>
        
        <li>
          
          
          
          <button
            class="bd-links-link bd-links-btn btn d-inline-flex align-items-center rounded border-0 collapsed w-100"
            data-bs-toggle="collapse" data-bs-target="#collapse-2"
            aria-expanded="false">
            19. 네트워크 입출력
            <svg class="bi ms-auto" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor"
              xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd"
                d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z" />
            </svg>
          </button>
          <div class="collapse " id="collapse-2">
            <ul class="list-unstyled fw-normal pb-1 small ms-3">
              
              <li>
                <a href="/part04/19/"
                  class="bd-links-link d-inline-block rounded ">
                  19. 네트워크 입출력
                </a>
              </li>
              
              <li>
                <a href="/part04/19/#191-네트워크-기초"
                  class="bd-links-link d-inline-block rounded ">
                  19.1 네트워크 기초
                </a>
              </li>
              
              <li>
                <a href="/part04/19/#192-IP-주소-얻기"
                  class="bd-links-link d-inline-block rounded ">
                  19.2 IP 주소 얻기
                </a>
              </li>
              
              <li>
                <a href="/part04/19/#193-TCP-네트워킹"
                  class="bd-links-link d-inline-block rounded ">
                  19.3 TCP 네트워킹
                </a>
              </li>
              
              <li>
                <a href="/part04/19/#194-UDP-네트워킹"
                  class="bd-links-link d-inline-block rounded ">
                  19.4 UDP 네트워킹
                </a>
              </li>
              
              <li>
                <a href="/part04/19/#195-서버의-동시-요청-처리"
                  class="bd-links-link d-inline-block rounded ">
                  19.5 서버의 동시 요청 처리
                </a>
              </li>
              
              <li>
                <a href="/part04/19/#196-JSON-데이터-형식"
                  class="bd-links-link d-inline-block rounded ">
                  19.6 JSON 데이터 형식
                </a>
              </li>
              
              <li>
                <a href="/part04/19/#197-TCP-채팅-프로그램"
                  class="bd-links-link d-inline-block rounded ">
                  19.7 TCP 채팅 프로그램
                </a>
              </li>
              
            </ul>
          </div>
          
        </li>
        
        <li>
          
          
          
          <button
            class="bd-links-link bd-links-btn btn d-inline-flex align-items-center rounded border-0  w-100"
            data-bs-toggle="collapse" data-bs-target="#collapse-3"
            aria-expanded="true">
            20. 데이터베이스 입출력
            <svg class="bi ms-auto" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor"
              xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd"
                d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z" />
            </svg>
          </button>
          <div class="collapse show" id="collapse-3">
            <ul class="list-unstyled fw-normal pb-1 small ms-3">
              
              <li>
                <a href="/part04/20/"
                  class="bd-links-link d-inline-block rounded active">
                  20. 데이터베이스 입출력
                </a>
              </li>
              
              <li>
                <a href="/part04/20/#201-JDBC-개요"
                  class="bd-links-link d-inline-block rounded ">
                  20.1 JDBC 개요
                </a>
              </li>
              
              <li>
                <a href="/part04/20/#202-DBMS-설치"
                  class="bd-links-link d-inline-block rounded ">
                  20.2 DBMS 설치
                </a>
              </li>
              
              <li>
                <a href="/part04/20/#203-Client-Tool-설치"
                  class="bd-links-link d-inline-block rounded ">
                  20.3 Client Tool 설치
                </a>
              </li>
              
              <li>
                <a href="/part04/20/#204-DB-구성"
                  class="bd-links-link d-inline-block rounded ">
                  20.4 DB 구성
                </a>
              </li>
              
              <li>
                <a href="/part04/20/#205-DB-연결"
                  class="bd-links-link d-inline-block rounded ">
                  20.5 DB 연결
                </a>
              </li>
              
              <li>
                <a href="/part04/20/#206-데이터-저장"
                  class="bd-links-link d-inline-block rounded ">
                  20.6 데이터 저장
                </a>
              </li>
              
              <li>
                <a href="/part04/20/#207-데이터-수정"
                  class="bd-links-link d-inline-block rounded ">
                  20.7 데이터 수정
                </a>
              </li>
              
              <li>
                <a href="/part04/20/#208-데이터-삭제"
                  class="bd-links-link d-inline-block rounded ">
                  20.8 데이터 삭제
                </a>
              </li>
              
              <li>
                <a href="/part04/20/#209-데이터-읽기"
                  class="bd-links-link d-inline-block rounded ">
                  20.9 데이터 읽기
                </a>
              </li>
              
              <li>
                <a href="/part04/20/#2010-프로시저와-함수-호출"
                  class="bd-links-link d-inline-block rounded ">
                  20.10 프로시저와 함수 호출
                </a>
              </li>
              
              <li>
                <a href="/part04/20/#2011-트랜잭션-처리"
                  class="bd-links-link d-inline-block rounded ">
                  20.11 트랜잭션 처리
                </a>
              </li>
              
              <li>
                <a href="/part04/20/#2012-게시판-구현"
                  class="bd-links-link d-inline-block rounded ">
                  20.12 게시판 구현
                </a>
              </li>
              
            </ul>
          </div>
          
        </li>
        
      </ul>
    </li>
  </ul>
</nav>
            </div>
        </div>
    </aside>

    <main class="bd-main order-1">
        <nav aria-label="breadcrumb" class="mt-3">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/">Home</a></li>
        
        
        
        
        
        
        
        
        
        <li class="breadcrumb-item"><a href="/part04/">Part04</a></li>
        
        
        
        
        
        
        <li class="breadcrumb-item active" aria-current="page">Chapter 20. 데이터베이스 입출력</li>
        
        
        
    </ol>
</nav>
        <div class="bd-content ps-lg-2">
            <h1 id="chapter-20-데이터베이스-입출력">Chapter 20. 데이터베이스 입출력</h1>

<h2 id="201-jdbc-개요">20.1 JDBC 개요</h2>

<p>자바는 데이터베이스(DB)와 연결해서 데이터 입출력 작업을 할 수 있도록 <strong>JDBC(Java Database Connectivity)</strong> 라이브러리(<code class="language-plaintext highlighter-rouge">java.sql</code> 패키지)를 제공한다. JDBC는 데이터베이스 관리 시스템(DBMS)의 종류와 상관없이 동일하게 사용할 수 있는 클래스와 인터페이스로 구성되어 있다.</p>

<p>JDBC 인터페이스를 통해 실제로 DB와 작업하는 것은 JDBC Driver이다. JDBC Driver는 JDBC 인터페이스를 구현한 것으로, DBMS마다 별도로 다운로드 받아 사용해야 한다.</p>

<p>JDBC에 포함되어 있는 클래스와 인터페이스들의 연관 관계는 다음과 같다.</p>

<ul>
  <li><strong>DriverManager</strong>: JDBC Driver를 관리하며 DB와 연결해서 <code class="language-plaintext highlighter-rouge">Connection</code> 구현 객체를 생성한다.</li>
  <li><strong>Connection</strong>: <code class="language-plaintext highlighter-rouge">Statement</code>, <code class="language-plaintext highlighter-rouge">PreparedStatement</code>, <code class="language-plaintext highlighter-rouge">CallableStatement</code> 구현 객체를 생성하며, 트랜잭션(Transaction) 처리 및 DB 연결을 끊을 때 사용한다.</li>
  <li><strong>Statement</strong>: SQL의 DDL(Data Definition Language)과 DML(Data Manipulation Language)을 실행할 때 사용한다. 주로 변경되지 않는 정적 SQL 문을 실행할 때 사용한다.</li>
  <li><strong>PreparedStatement</strong>: <code class="language-plaintext highlighter-rouge">Statement</code>와 동일하게 SQL의 DDL, DML 문을 실행할 때 사용한다. 차이점은 매개변수화된 SQL 문을 사용할 수 있기 때문에 편리성과 보안성이 좋다. 그래서 <code class="language-plaintext highlighter-rouge">Statement</code>보다는 <code class="language-plaintext highlighter-rouge">PreparedStatement</code>를 주로 사용한다.</li>
  <li><strong>CallableStatement</strong>: DB에 저장되어 있는 프로시저(Procedure)와 함수(Function)를 호출할 때 사용한다.</li>
  <li><strong>ResultSet</strong>: DB에서 가져온 데이터를 읽을 때 사용한다.</li>
</ul>

<blockquote>
  <p><strong>참고</strong>: 학습용 DBMS로 Oracle을 사용한다면 이 책으로 계속해서 학습하고, MySQL을 사용한다면 부록으로 제공되는 ‘부록 1: 데이터베이스 입출력(MySQL용)’ PDF로 대체해서 학습하길 바란다.</p>
  <ul>
    <li>Oracle 학습 환경일 경우: 책 본문으로 학습</li>
    <li>MySQL 학습 환경일 경우: 부록으로 제공되는 PDF로 학습</li>
  </ul>
</blockquote>

<h2 id="202-dbms-설치">20.2 DBMS 설치</h2>

<p>DBMS마다 조금씩 다른 SQL을 사용하기 때문에 이 책에서는 개발자 교육과정 중 기업체에서 가장 많이 요구하는 Oracle을 기준으로 설명한다.</p>

<h3 id="oracle-설치">Oracle 설치</h3>

<p><em>(본문 내용은 Oracle 19c 설치 과정을 상세히 설명하고 있음. 상세 스크린샷 및 단계별 설명은 생략하고 핵심 내용만 기술함)</em></p>

<ol>
  <li>오라클 공식 웹사이트에서 Windows x64용 Oracle Database 19c 설치 파일(<code class="language-plaintext highlighter-rouge">WINDOWS.X64_193000_db_home.zip</code>)을 다운로드한다.</li>
  <li><code class="language-plaintext highlighter-rouge">C:\Oracle</code> 디렉토리에 압축을 해제한다. (반드시 이 경로여야 함)</li>
  <li><code class="language-plaintext highlighter-rouge">setup.exe</code>를 실행하여 설치를 진행한다.</li>
  <li>설치 과정에서 ‘단일 인스턴스 데이터베이스 생성’, ‘데스크톱 클래스’ 등을 선택한다.</li>
  <li>Oracle Base는 <code class="language-plaintext highlighter-rouge">C:\Oracle</code>로 설정하고, 비밀번호는 <code class="language-plaintext highlighter-rouge">oracle</code>로 설정한다. ‘컨테이너 데이터베이스로 생성’ 체크는 해제한다.</li>
  <li>설치가 완료되면 <code class="language-plaintext highlighter-rouge">sqlplus</code>를 이용해 관리자 계정 생명 주기 제한을 푼다.
    <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sqlplus</span> <span class="o">/</span> <span class="k">as</span> <span class="n">sysdba</span>
<span class="k">alter</span> <span class="n">profile</span> <span class="k">default</span> <span class="k">limit</span> <span class="n">password_life_time</span> <span class="n">unlimited</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
  <li>학습에 사용할 DB 계정 <code class="language-plaintext highlighter-rouge">java</code>를 생성하고 권한을 부여한다.
    <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">create</span> <span class="k">user</span> <span class="n">java</span> <span class="n">identified</span> <span class="k">by</span> <span class="n">oracle</span><span class="p">;</span>
<span class="k">grant</span> <span class="k">connect</span> <span class="k">to</span> <span class="n">java</span><span class="p">;</span>
<span class="k">grant</span> <span class="n">resource</span> <span class="k">to</span> <span class="n">java</span><span class="p">;</span>
<span class="k">grant</span> <span class="n">unlimited</span> <span class="n">tablespace</span> <span class="k">to</span> <span class="n">java</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="원격-연결">원격 연결</h3>

<p>Oracle을 설치하면 기본적으로 로컬(설치된 컴퓨터) 환경에서만 Oracle에 연결할 수 있다. 원격(외부 컴퓨터)에서 Oracle에 연결해서 사용하려면 ‘Net Configuration Assistant’를 실행하여 리스너(LISTENER)를 재구성해야 한다.</p>

<h3 id="방화벽-해제">방화벽 해제</h3>

<p>윈도우 방화벽 설정에서 1521 포트에 대한 인바운드 규칙을 추가하여 포트를 개방해야 한다.</p>

<h2 id="203-client-tool-설치">20.3 Client Tool 설치</h2>

<p>SQL Developer는 Oracle DB 개발 및 관리를 간편하게 해주는 무료 Client Tool이다.</p>

<ol>
  <li>오라클 공식 웹사이트에서 SQL Developer를 다운로드한다.</li>
  <li><code class="language-plaintext highlighter-rouge">C:\Oracle\sqldeveloper</code> 경로에 압축을 해제한다.</li>
  <li><code class="language-plaintext highlighter-rouge">sqldeveloper.exe</code>를 실행한다.</li>
  <li>새 데이터베이스 접속을 생성한다.
    <ul>
      <li><strong>Name</strong>: thisisjava</li>
      <li><strong>사용자 이름</strong>: java</li>
      <li><strong>비밀번호</strong>: oracle</li>
      <li><strong>호스트 이름</strong>: localhost</li>
      <li><strong>포트</strong>: 1521</li>
      <li><strong>SID</strong>: orcl</li>
    </ul>
  </li>
</ol>

<h2 id="204-db-구성">20.4 DB 구성</h2>

<p>학습에 필요한 테이블, 시퀀스, 프로시저, 함수를 생성하여 데이터베이스를 구성한다.</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">users</code> 테이블 생성: <code class="language-plaintext highlighter-rouge">sql/oracle/users.sql</code> 실행</li>
  <li><code class="language-plaintext highlighter-rouge">boards</code> 테이블 생성: <code class="language-plaintext highlighter-rouge">sql/oracle/boards.sql</code> 실행</li>
  <li><code class="language-plaintext highlighter-rouge">SEQ_BNO</code> 시퀀스 생성: <code class="language-plaintext highlighter-rouge">sql/oracle/sequence.sql</code> 실행</li>
  <li><code class="language-plaintext highlighter-rouge">accounts</code> 테이블 생성 및 데이터 삽입: <code class="language-plaintext highlighter-rouge">sql/oracle/accounts.sql</code> 실행</li>
  <li><code class="language-plaintext highlighter-rouge">user_create</code> 프로시저 생성: <code class="language-plaintext highlighter-rouge">sql/oracle/procedure.sql</code> 실행</li>
  <li><code class="language-plaintext highlighter-rouge">user_login</code> 함수 생성: <code class="language-plaintext highlighter-rouge">sql/oracle/function.sql</code> 실행</li>
</ol>

<h2 id="205-db-연결">20.5 DB 연결</h2>

<p>클라이언트 프로그램에서 DB와 연결하려면 해당 DBMS의 JDBC Driver가 필요하다. 또한 연결에 필요한 다음 네 가지 정보가 있어야 한다.</p>
<ol>
  <li>DBMS가 설치된 컴퓨터의 IP 주소</li>
  <li>DBMS가 허용하는 포트(Port) 번호</li>
  <li>사용자(DB 계정) 및 비밀번호</li>
  <li>사용하고자 하는 DB 이름</li>
</ol>

<h3 id="jdbc-driver-설치">JDBC Driver 설치</h3>

<p>Oracle 19c와 호환되는 JDBC Driver(<code class="language-plaintext highlighter-rouge">ojdbc8.jar</code>)를 프로젝트의 <code class="language-plaintext highlighter-rouge">lib</code> 폴더에 복사하고 Build Path에 추가해야 한다.</p>

<h3 id="db-연결">DB 연결</h3>

<p><code class="language-plaintext highlighter-rouge">Class.forName()</code> 메소드로 JDBC Driver를 메모리로 로딩하고, <code class="language-plaintext highlighter-rouge">DriverManager.getConnection()</code> 메소드로 DB와 연결한다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">ch20.oracle.sec05</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.sql.Connection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.sql.DriverManager</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.sql.SQLException</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ConnectionExample</span> <span class="o">{</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">Connection</span> <span class="n">conn</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="k">try</span> <span class="o">{</span>
			<span class="c1">// JDBC Driver 등록</span>
			<span class="nc">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="s">"oracle.jdbc.OracleDriver"</span><span class="o">);</span>

			<span class="c1">// 연결하기</span>
			<span class="n">conn</span> <span class="o">=</span> <span class="nc">DriverManager</span><span class="o">.</span><span class="na">getConnection</span><span class="o">(</span>
				<span class="s">"jdbc:oracle:thin:@localhost:1521/orcl"</span><span class="o">,</span>
				<span class="s">"java"</span><span class="o">,</span>
				<span class="s">"oracle"</span>
			<span class="o">);</span>

			<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"연결 성공"</span><span class="o">);</span>
		<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">ClassNotFoundException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
		<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">SQLException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
		<span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">conn</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">try</span> <span class="o">{</span>
					<span class="c1">// 연결 끊기</span>
					<span class="n">conn</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
					<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"연결 끊기"</span><span class="o">);</span>
				<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">SQLException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{}</span>
			<span class="o">}</span>
		<span class="o">}</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
<p>연결 문자열 형식: <code class="language-plaintext highlighter-rouge">jdbc:oracle:thin:@IP주소:포트/DB명</code> (예: <code class="language-plaintext highlighter-rouge">jdbc:oracle:thin:@localhost:1521/orcl</code>)</p>

<h2 id="206-데이터-저장">20.6 데이터 저장</h2>

<p>데이터 저장은 <code class="language-plaintext highlighter-rouge">INSERT</code> 문을 사용한다. 매개변수화된 SQL 문을 작성하고 <code class="language-plaintext highlighter-rouge">PreparedStatement</code>를 이용하여 실행한다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">String</span> <span class="n">sql</span> <span class="o">=</span> <span class="s">"INSERT INTO users (userid, username, userpassword, userage, useremail) VALUES (?, ?, ?, ?, ?)"</span><span class="o">;</span>
<span class="nc">PreparedStatement</span> <span class="n">pstmt</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span>
<span class="n">pstmt</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="s">"winter"</span><span class="o">);</span>
<span class="c1">// ... 값 설정 ...</span>
<span class="kt">int</span> <span class="n">rows</span> <span class="o">=</span> <span class="n">pstmt</span><span class="o">.</span><span class="na">executeUpdate</span><span class="o">();</span>
</code></pre></div></div>

<p>게시물 저장 시 <code class="language-plaintext highlighter-rouge">SEQ_BNO.NEXTVAL</code>로 생성된 키 값을 알아내려면 <code class="language-plaintext highlighter-rouge">prepareStatement</code>의 두 번째 매개값으로 컬럼명을 배열로 전달하고, <code class="language-plaintext highlighter-rouge">executeUpdate()</code> 후 <code class="language-plaintext highlighter-rouge">getGeneratedKeys()</code>를 사용한다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">ch20.oracle.sec06</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.FileInputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.sql.Connection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.sql.DriverManager</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.sql.PreparedStatement</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.sql.ResultSet</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.sql.SQLException</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BoardWithFileInsertExample</span> <span class="o">{</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">Connection</span> <span class="n">conn</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="k">try</span> <span class="o">{</span>
			<span class="c1">// JDBC Driver 등록</span>
			<span class="nc">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="s">"oracle.jdbc.OracleDriver"</span><span class="o">);</span>

			<span class="c1">// 연결하기</span>
			<span class="n">conn</span> <span class="o">=</span> <span class="nc">DriverManager</span><span class="o">.</span><span class="na">getConnection</span><span class="o">(</span>
				<span class="s">"jdbc:oracle:thin:@localhost:1521/orcl"</span><span class="o">,</span>
				<span class="s">"java"</span><span class="o">,</span>
				<span class="s">"oracle"</span>
			<span class="o">);</span>

			<span class="c1">// 매개변수화된 SQL 문 작성</span>
			<span class="nc">String</span> <span class="n">sql</span> <span class="o">=</span> <span class="s">""</span> <span class="o">+</span>
				<span class="s">"INSERT INTO boards (bno, btitle, bcontent, bwriter, bdate, bfilename, bfiledata) "</span> <span class="o">+</span>
				<span class="s">"VALUES (SEQ_BNO.NEXTVAL, ?, ?, ?, SYSDATE, ?, ?)"</span><span class="o">;</span>

			<span class="c1">// PreparedStatement 얻기 및 값 지정</span>
			<span class="nc">PreparedStatement</span> <span class="n">pstmt</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">sql</span><span class="o">,</span> <span class="k">new</span> <span class="nc">String</span><span class="o">[]</span> <span class="o">{</span><span class="s">"bno"</span><span class="o">});</span>
			<span class="n">pstmt</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="s">"눈 오는 날"</span><span class="o">);</span>
			<span class="n">pstmt</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="s">"함박눈이 내려요."</span><span class="o">);</span>
			<span class="n">pstmt</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="s">"winter"</span><span class="o">);</span>
			<span class="n">pstmt</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span> <span class="s">"snow.jpg"</span><span class="o">);</span>
			<span class="n">pstmt</span><span class="o">.</span><span class="na">setBlob</span><span class="o">(</span><span class="mi">5</span><span class="o">,</span> <span class="nc">BoardWithFileInsertExample</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getResourceAsStream</span><span class="o">(</span><span class="s">"snow.jpg"</span><span class="o">));</span>

			<span class="c1">// SQL 문 실행</span>
			<span class="kt">int</span> <span class="n">rows</span> <span class="o">=</span> <span class="n">pstmt</span><span class="o">.</span><span class="na">executeUpdate</span><span class="o">();</span>
			<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"저장된 행 수: "</span> <span class="o">+</span> <span class="n">rows</span><span class="o">);</span>

			<span class="c1">// bno 값 얻기</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">rows</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
				<span class="nc">ResultSet</span> <span class="n">rs</span> <span class="o">=</span> <span class="n">pstmt</span><span class="o">.</span><span class="na">getGeneratedKeys</span><span class="o">();</span>
				<span class="k">if</span> <span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">next</span><span class="o">())</span> <span class="o">{</span>
					<span class="kt">int</span> <span class="n">bno</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
					<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"저장된 bno: "</span> <span class="o">+</span> <span class="n">bno</span><span class="o">);</span>
				<span class="o">}</span>
				<span class="n">rs</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
			<span class="o">}</span>

			<span class="c1">// PreparedStatement 닫기</span>
			<span class="n">pstmt</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
		<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
		<span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">conn</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">try</span> <span class="o">{</span>
					<span class="c1">// 연결 끊기</span>
					<span class="n">conn</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
				<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">SQLException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{}</span>
			<span class="o">}</span>
		<span class="o">}</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="207-데이터-수정">20.7 데이터 수정</h2>

<p>데이터 수정은 <code class="language-plaintext highlighter-rouge">UPDATE</code> 문을 사용한다. <code class="language-plaintext highlighter-rouge">PreparedStatement</code>를 이용하여 매개변수 값을 설정하고 <code class="language-plaintext highlighter-rouge">executeUpdate()</code> 메소드를 호출한다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">String</span> <span class="n">sql</span> <span class="o">=</span> <span class="s">"UPDATE boards SET btitle=?, bcontent=?, bfilename=?, bfiledata=? WHERE bno=?"</span><span class="o">;</span>
<span class="nc">PreparedStatement</span> <span class="n">pstmt</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span>
<span class="c1">// ... 값 설정 ...</span>
<span class="kt">int</span> <span class="n">rows</span> <span class="o">=</span> <span class="n">pstmt</span><span class="o">.</span><span class="na">executeUpdate</span><span class="o">();</span>
</code></pre></div></div>

<h2 id="208-데이터-삭제">20.8 데이터 삭제</h2>

<p>데이터 삭제는 <code class="language-plaintext highlighter-rouge">DELETE</code> 문을 사용한다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">String</span> <span class="n">sql</span> <span class="o">=</span> <span class="s">"DELETE FROM boards WHERE bwriter=?"</span><span class="o">;</span>
<span class="nc">PreparedStatement</span> <span class="n">pstmt</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span>
<span class="n">pstmt</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="s">"winter"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">rows</span> <span class="o">=</span> <span class="n">pstmt</span><span class="o">.</span><span class="na">executeUpdate</span><span class="o">();</span>
</code></pre></div></div>

<h2 id="209-데이터-읽기">20.9 데이터 읽기</h2>

<p>데이터 읽기는 <code class="language-plaintext highlighter-rouge">SELECT</code> 문을 사용한다. <code class="language-plaintext highlighter-rouge">PreparedStatement</code>의 <code class="language-plaintext highlighter-rouge">executeQuery()</code> 메소드를 호출하여 <code class="language-plaintext highlighter-rouge">ResultSet</code>을 얻는다.</p>

<p><code class="language-plaintext highlighter-rouge">ResultSet</code>은 조회된 데이터의 행(row) 집합이다. <code class="language-plaintext highlighter-rouge">next()</code> 메소드로 커서를 이동시키며 데이터를 읽는다.</p>

<ul>
  <li>1개의 행을 가져올 때: <code class="language-plaintext highlighter-rouge">if (rs.next()) { ... }</code></li>
  <li>여러 행을 가져올 때: <code class="language-plaintext highlighter-rouge">while (rs.next()) { ... }</code></li>
</ul>

<p>데이터 읽기는 <code class="language-plaintext highlighter-rouge">get타입(컬럼명)</code> 또는 <code class="language-plaintext highlighter-rouge">get타입(컬럼순번)</code> 메소드를 사용한다. (예: <code class="language-plaintext highlighter-rouge">getString("userid")</code>, <code class="language-plaintext highlighter-rouge">getInt(1)</code>)</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">ch20.oracle.sec09.exam02</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.FileOutputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.OutputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.sql.Blob</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.sql.Connection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.sql.DriverManager</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.sql.PreparedStatement</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.sql.ResultSet</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.sql.SQLException</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BoardSelectExample</span> <span class="o">{</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">Connection</span> <span class="n">conn</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="k">try</span> <span class="o">{</span>
			<span class="c1">// JDBC Driver 등록</span>
			<span class="nc">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="s">"oracle.jdbc.OracleDriver"</span><span class="o">);</span>

			<span class="c1">// 연결하기</span>
			<span class="n">conn</span> <span class="o">=</span> <span class="nc">DriverManager</span><span class="o">.</span><span class="na">getConnection</span><span class="o">(</span>
				<span class="s">"jdbc:oracle:thin:@localhost:1521/orcl"</span><span class="o">,</span>
				<span class="s">"java"</span><span class="o">,</span>
				<span class="s">"oracle"</span>
			<span class="o">);</span>

			<span class="c1">// 매개변수화된 SQL 문 작성</span>
			<span class="nc">String</span> <span class="n">sql</span> <span class="o">=</span> <span class="s">""</span> <span class="o">+</span>
				<span class="s">"SELECT bno, btitle, bcontent, bwriter, bdate, bfilename, bfiledata "</span> <span class="o">+</span>
				<span class="s">"FROM boards "</span> <span class="o">+</span>
				<span class="s">"WHERE bwriter=?"</span><span class="o">;</span>

			<span class="c1">// PreparedStatement 얻기 및 값 지정</span>
			<span class="nc">PreparedStatement</span> <span class="n">pstmt</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span>
			<span class="n">pstmt</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="s">"winter"</span><span class="o">);</span>

			<span class="c1">// SQL 문 실행 후 ResultSet을 통해 데이터 읽기</span>
			<span class="nc">ResultSet</span> <span class="n">rs</span> <span class="o">=</span> <span class="n">pstmt</span><span class="o">.</span><span class="na">executeQuery</span><span class="o">();</span>
			<span class="k">while</span> <span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">next</span><span class="o">())</span> <span class="o">{</span>
				<span class="c1">// 데이터 행을 읽고 Board 객체 생성</span>
				<span class="nc">Board</span> <span class="n">board</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Board</span><span class="o">();</span>
				<span class="n">board</span><span class="o">.</span><span class="na">setBno</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"bno"</span><span class="o">));</span>
				<span class="n">board</span><span class="o">.</span><span class="na">setBtitle</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"btitle"</span><span class="o">));</span>
				<span class="n">board</span><span class="o">.</span><span class="na">setBcontent</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"bcontent"</span><span class="o">));</span>
				<span class="n">board</span><span class="o">.</span><span class="na">setBwriter</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"bwriter"</span><span class="o">));</span>
				<span class="n">board</span><span class="o">.</span><span class="na">setBdate</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getDate</span><span class="o">(</span><span class="s">"bdate"</span><span class="o">));</span>
				<span class="n">board</span><span class="o">.</span><span class="na">setBfilename</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"bfilename"</span><span class="o">));</span>
				<span class="n">board</span><span class="o">.</span><span class="na">setBfiledata</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getBlob</span><span class="o">(</span><span class="s">"bfiledata"</span><span class="o">));</span>

				<span class="c1">// 콘솔에 출력</span>
				<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">board</span><span class="o">);</span>

				<span class="c1">// 파일로 저장</span>
				<span class="nc">Blob</span> <span class="n">blob</span> <span class="o">=</span> <span class="n">board</span><span class="o">.</span><span class="na">getBfiledata</span><span class="o">();</span>
				<span class="k">if</span> <span class="o">(</span><span class="n">blob</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
					<span class="nc">InputStream</span> <span class="n">is</span> <span class="o">=</span> <span class="n">blob</span><span class="o">.</span><span class="na">getBinaryStream</span><span class="o">();</span>
					<span class="nc">OutputStream</span> <span class="n">os</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">FileOutputStream</span><span class="o">(</span><span class="s">"C:/Temp/"</span> <span class="o">+</span> <span class="n">board</span><span class="o">.</span><span class="na">getBfilename</span><span class="o">());</span>
					<span class="n">is</span><span class="o">.</span><span class="na">transferTo</span><span class="o">(</span><span class="n">os</span><span class="o">);</span>
					<span class="n">os</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
					<span class="n">os</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
					<span class="n">is</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
				<span class="o">}</span>
			<span class="o">}</span>
			<span class="n">rs</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

			<span class="c1">// PreparedStatement 닫기</span>
			<span class="n">pstmt</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
		<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
		<span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">conn</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">try</span> <span class="o">{</span>
					<span class="c1">// 연결 끊기</span>
					<span class="n">conn</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
				<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">SQLException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{}</span>
			<span class="o">}</span>
		<span class="o">}</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="2010-프로시저와-함수-호출">20.10 프로시저와 함수 호출</h2>

<p>프로시저와 함수는 <code class="language-plaintext highlighter-rouge">CallableStatement</code>를 사용하여 호출한다. connection의 <code class="language-plaintext highlighter-rouge">prepareCall()</code> 메소드를 사용한다.</p>

<ul>
  <li>프로시저 호출: <code class="language-plaintext highlighter-rouge">{ call 프로시저명(?, ?, ...) }</code></li>
  <li>함수 호출: <code class="language-plaintext highlighter-rouge">{ ? = call 함수명(?, ?, ...) }</code></li>
</ul>

<p>리턴값(OUT 파라미터)은 <code class="language-plaintext highlighter-rouge">registerOutParameter()</code> 메소드로 타입을 지정하고, 실행 후 <code class="language-plaintext highlighter-rouge">get타입()</code> 메소드로 값을 얻는다.</p>

<h2 id="2011-트랜잭션-처리">20.11 트랜잭션 처리</h2>

<p>트랜잭션(Transaction)은 기능 처리의 최소 단위로, 소작업들이 모두 성공하거나 모두 실패해야 한다. (All or Nothing)</p>

<p>JDBC에서는 기본적으로 자동 커밋(Auto Commit)이 켜져 있다. 트랜잭션을 수동으로 제어하려면 <code class="language-plaintext highlighter-rouge">conn.setAutoCommit(false)</code>를 호출하여 자동 커밋을 끈다.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">conn.commit()</code>: 모든 작업 성공 시 커밋</li>
  <li><code class="language-plaintext highlighter-rouge">conn.rollback()</code>: 예외 발생 시 롤백</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">try</span> <span class="o">{</span>
    <span class="n">conn</span><span class="o">.</span><span class="na">setAutoCommit</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span> <span class="c1">// 자동 커밋 끄기</span>
    
    <span class="c1">// ... 소작업 1 ...</span>
    <span class="c1">// ... 소작업 2 ...</span>
    
    <span class="n">conn</span><span class="o">.</span><span class="na">commit</span><span class="o">();</span> <span class="c1">// 모두 성공 시 커밋</span>
<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">conn</span><span class="o">.</span><span class="na">rollback</span><span class="o">();</span> <span class="c1">// 실패 시 롤백</span>
<span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
    <span class="n">conn</span><span class="o">.</span><span class="na">setAutoCommit</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span> <span class="c1">// 자동 커밋 다시 켜기</span>
    <span class="n">conn</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="2012-게시판-구현">20.12 게시판 구현</h2>

<p>JDBC를 활용하여 콘솔 기반의 게시판을 구현한다. 기능은 Create, Read, Update, Delete (CRUD)와 목록 보기, 전체 삭제, 종료를 포함한다.</p>

<p>(상세 구현 코드는 생략하며, 각 기능별로 <code class="language-plaintext highlighter-rouge">BoardExample</code> 클래스를 단계적으로 발전시키는 형태임.)</p>

<h2 id="확인문제">확인문제</h2>

<ol>
  <li>JDBC에 대한 설명으로 틀린 것은 무엇입니까?
    <ul>
      <li>① java.sql에서 제공하는 표준 라이브러리를 말한다.</li>
      <li>② DBMS의 종류와 상관없이 사용할 수 있는 클래스와 인터페이스로 구성되어 있다.</li>
      <li>③ JDBC 인터페이스들을 구현한 것이 JDBC Driver이다.</li>
      <li>④ JDBC Driver는 DBMS의 종류와 상관없이 동일한 것을 사용할 수 있다.
        <blockquote>
          <p><strong>정답</strong>: ④
<strong>해설</strong>: JDBC Driver는 DBMS 종류마다 다르며 별도로 설치해야 한다.</p>
        </blockquote>
      </li>
    </ul>
  </li>
  <li>JDBC가 DB와 연결할 때 필요한 정보가 아닌 것은 무엇입니까?
    <ul>
      <li>① DBMS가 설치된 컴퓨터의 IP 주소와 Port 번호가 필요하다.</li>
      <li>② DBMS에 생성된 DB의 이름과 사용자 및 비밀번호가 필요하다.</li>
      <li>③ DB에 생성된 테이블 이름을 알아야 한다.</li>
      <li>④ DBMS별로 제공되는 JDBC Driver 클래스 이름을 알아야 한다.
        <blockquote>
          <p><strong>정답</strong>: ③
<strong>해설</strong>: DB 연결 시에는 테이블 이름을 알 필요가 없다.</p>
        </blockquote>
      </li>
    </ul>
  </li>
  <li>JDBC로 SQL 실행 결과를 얻기 위한 코드 작성 순서는? ( ) -&gt; ( ) -&gt; ( ) -&gt; ( )
    <ul>
      <li>① DriverManager부터 Connection을 얻는다.</li>
      <li>② Class.forName() 메소드를 이용해서 JDBC Driver 클래스를 로딩한다.</li>
      <li>③ ResultSet에서 SQL 실행 결과를 얻는다.</li>
      <li>④ PreparedStatement를 얻고 SQL 문을 실행한다.
        <blockquote>
          <p><strong>정답</strong>: ② -&gt; ① -&gt; ④ -&gt; ③</p>
        </blockquote>
      </li>
    </ul>
  </li>
  <li>PreparedStatement에 대한 설명으로 틀린 것은 무엇입니까?
    <ul>
      <li>① 매개변수화된 SQL 문을 사용할 수 있다.</li>
      <li>② INSERT, UPDATE, DELETE 문은 executeUpdate() 메소드로 실행한다.</li>
      <li>③ SELECT 문은 executeQuery() 메소드로 실행한다.</li>
      <li>④ 매개변수화된 SQL 문의 ? 순번은 0번부터 시작한다.
        <blockquote>
          <p><strong>정답</strong>: ④
<strong>해설</strong>: ? 순번은 1번부터 시작한다.</p>
        </blockquote>
      </li>
    </ul>
  </li>
  <li>ResultSet에 대한 설명으로 틀린 것은 무엇입니까?
    <ul>
      <li>① ResultSet은 executeQuery의 리턴값이다.</li>
      <li>② next() 메소드로 afterLast로 이동할 때 true를 리턴한다.</li>
      <li>③ ResultSet은 한 번에 하나의 행만 읽을 수 있다.</li>
      <li>④ ResultSet은 다음 행으로 커서를 이동할 때 next() 메소드를 사용한다.
        <blockquote>
          <p><strong>정답</strong>: ②
<strong>해설</strong>: afterLast로 이동하면 false를 리턴한다.</p>
        </blockquote>
      </li>
    </ul>
  </li>
  <li>프로시저와 함수를 실행하는 방법으로 틀린 것은 무엇입니까?
    <ul>
      <li>① CallableStatement를 이용한다.</li>
      <li>② 프로시저 호출 문자열로 “{ call 프로시저명(?, ?, …)}”을 사용한다.</li>
      <li>③ 함수 호출 문자열로 “{ ? = call 함수명(?, ?, …)}”을 사용한다.</li>
      <li>④ 리턴값인 ?을 지정할 때에는 registerOutParameter() 메소드를 이용한다.
        <blockquote>
          <p><strong>정답</strong>: 없음 (모두 맞는 설명임. 문제의 의도가 다를 수 있으나 보기 내용은 모두 맞음)
<strong>해설</strong>: 보기들이 모두 맞는 description이나, 확인문제 원본에서는 틀린 것을 고르라고 함. 혹시 ④번이 IN 파라미터 설정과 혼동을 유발하려 했는지 모르겠으나, OUT 파라미터(리턴값 포함)는 <code class="language-plaintext highlighter-rouge">registerOutParameter</code>를 사용하는 것이 맞음. 책의 정답 확인 필요. (책 정답: 20.10절 내용을 보면 CallableStatement 사용, 호출 문자열 형식, registerOutParameter 사용 모두 맞음.)</p>
        </blockquote>
      </li>
    </ul>
  </li>
  <li>트랜잭션에 대한 설명으로 틀린 것은 무엇입니까?
    <ul>
      <li>① 기능 처리의 최소 단위를 말한다.</li>
      <li>② 커밋(commit)은 내부 작업을 모두 성공 처리한다.</li>
      <li>③ 롤백(rollback)은 내부 작업 중에서 성공한 작업까지 되돌린다.</li>
      <li>④ 트랜잭션을 코드로 제어하려면 setAutoCommit(false) 메소드를 먼저 호출해야 한다.
        <blockquote>
          <p><strong>정답</strong>: 없음 (모두 맞는 설명임)</p>
        </blockquote>
      </li>
    </ul>
  </li>
  <li>
    <p>20.12절에서 구현한 게시판에서 다음 내용과 같이 새 사용자를 가입하는 기능을 추가해 보세요.
(문제 내용 생략: 회원 가입 기능 구현)</p>
  </li>
  <li>
    <p>8번 문제에서 만든 결과물에 다음과 같이 로그인 기능을 추가해 보세요.
(문제 내용 생략: 로그인/로그아웃 기능 구현)</p>
  </li>
  <li>9번 문제에서 만든 결과물에 다음과 같은 조건에 맞는 프로그램으로 수정해 보세요.
(문제 내용 생략: 로그인 상태 연동 및 권한 제어)</li>
</ol>

        </div>

        <div class="bd-toc mt-3 mb-5 my-lg-0 ps-xl-3 mb-lg-5 text-body-secondary">

  <button class="btn btn-link p-md-0 mb-2 mb-md-0 text-decoration-none bd-toc-toggle d-md-none" type="button"
    data-bs-toggle="collapse" data-bs-target="#tocContents" aria-expanded="false" aria-controls="tocContents">
    서브목차
    <svg class="bi d-md-none ms-2" aria-hidden="true">
      <use xlink:href="#chevron-expand"></use>
    </svg>
  </button>

  <strong class="d-none d-md-block h6 my-2">서브목차</strong>

  <div class="collapse bd-toc-collapse" id="tocContents">
    <nav id="TableOfContents">
      <!--
      <ul>
        <li><a href="#quick-start">Quick start</a></li>
        <li><a href="#cdn-links">CDN links</a></li>
        <li><a href="#next-steps">Next steps</a></li>
        <li><a href="#js-components">JS components</a></li>
        <li><a href="#important-globals">Important globals</a>
          <ul>
            <li><a href="#html5-doctype">HTML5 doctype</a></li>
            <li><a href="#responsive-meta-tag">Responsive meta tag</a></li>
            <li><a href="#box-sizing">Box-sizing</a></li>
            <li><a href="#reboot">Reboot</a></li>
          </ul>
        </li>
        <li><a href="#community">Community</a></li>
      </ul>
      -->
    </nav>
  </div>
</div>
    </main>
</div>

  <footer class="container">
  <hr class="mt-5 mb-3">
  <div class="row align-items-center pb-3">
    <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
      <p class="mb-0 text-secondary">Copyright 2017~2026 JinyDev. All Rights Reserved.</p>
    </div>
    <div class="col-md-6 text-center text-md-end">
      
      <a href="https://datas.jiny.dev" class="text-decoration-none text-secondary ms-3">빅데이터</a>
      
      <a href="https://mysql.jiny.dev" class="text-decoration-none text-secondary ms-3">MySQL</a>
      
      <a href="https://php.jiny.dev" class="text-decoration-none text-secondary ms-3">PHP</a>
      
      <a href="https://java.jiny.dev" class="text-decoration-none text-secondary ms-3">자바</a>
      
      <a href="https://git.jiny.dev" class="text-decoration-none text-secondary ms-3">깃&깃허브</a>
      
      <a href="https://linux.jiny.dev" class="text-decoration-none text-secondary ms-3">리눅스</a>
      
    </div>
  </div>
</footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
    crossorigin="anonymous"></script>
  <script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';

    window.addEventListener('load', async function () {
      mermaid.initialize({ startOnLoad: false });

      const mermaidCodes = document.querySelectorAll('pre code.language-mermaid');
      const mermaidDivs = [];

      mermaidCodes.forEach(codeBlock => {
        const mermaidDefinition = codeBlock.textContent.trim();
        const container = codeBlock.closest('div.highlighter-rouge');

        const mermaidDiv = document.createElement('div');
        mermaidDiv.className = 'mermaid';
        mermaidDiv.textContent = mermaidDefinition;

        if (container) {
          container.replaceWith(mermaidDiv);
        } else {
          const pre = codeBlock.parentElement;
          if (pre) pre.replaceWith(mermaidDiv);
        }
        mermaidDivs.push(mermaidDiv);
      });

      if (mermaidDivs.length > 0) {
        await mermaid.run({ nodes: mermaidDivs });
      }
    });
  </script>
  <script src="/assets/js/toc.js"></script>

</body>

</html>