# 08. 리스트 컴포넌트

리스트 컴포넌트는 목록 중에서 항목을 선택할 수 있는 컴포넌트를 말합니다. 리스트 컴포넌트에는

JList, JComboBox가 있습니다. JList는 목록에서 하나 이상의 항목을 선택할 수 있고, JComboBox

는 버튼을 클릭했을 때 목록이 보이고, 그 중 하나를 선택할 수 있습니다.

JList

JList는 목록에서 하나 이상의 항목을 선택할 수 있는 컴포넌트입니다. JList의 항목은 다음과 같이 배

열로 주거나,

String[] stringItems  =  { "one", "two", "tree", "four" };
JList jList  =  new JList(stringItems);

다음과 같이 Vector 객체로 줄 수 있습니다.

Vector items  =  new Vector();
items.add("one");
items.add("two");
items.add("tree");
items.add("four");
JList jList  =  new JList( items );

JList의 기본적인 항목 컴포넌트는 JLabel로 구성되어 있기 때문에 텍스트 이외에도 이미지 표현도

가능하다.

Vector items  =  new Vector();
items.add( new ImageIcon( getClass().getResource("fruit1.gif") );
items.add( new ImageIcon( getClass().getResource("fruit2.gif") );
JList jList  =  new JList( items );

JList는 자동으로 스크롤 바가 생성되지 않으므로 JScrollPane에 추가해서 사용할 수 있습니다.

JScrollPane jScrollPane  =  new JScrollPane( jList );



사용자가 JList의 항목을 선택하면 ListSelectionEvent가 발생하기 때문에 ListSelectionListener

를 등록하면 이벤트를 처리할 수 있습니다.

jList.addListSelectionListener(new ListSelectionListener() {
```java
public void valueChanged(ListSelectionEvent e) {
if(e.getValueIsAdjusting()  = =  false) {
//이벤트 처리 코드
}
}

});
```

JList는 선택 항목이 변경되면 ListSelectionEvent를 두 번 발생시킨다. 이것을 해결하기 위

해 ListSelectionEvent는 getValueIsAdjusting ( ) 메소드를 제공하고 있습니다. 첫 번째 이벤트

가 발생했을 때는 false를 리턴하고, 두 번째 이벤트가 연이어 발생하면 true를 리턴합니다. 따라서

getValueIsAdjusting ( )가 false를 반환할 때만 이벤트 처리 코드를 실행하도록 해야 합니다.

JList에서 선택된 항목을 알아내는 방법은 두 가지가 있습니다. getSelectedIndex ( ) 메소드는 선택된

항목의 인덱스을 리턴하고, getSelectedValue ( )는 선택된 항목의 값이 리턴됩니다. 어떤 정보가 이

벤트 처리 시 유리한지를 판단하고 사용하면 됩니다.

//선택된 항목의 인덱스 얻기
int selectedIndex  =  jList.getSelectedIndex();
int[] selectedIndices  =  jList.getSelectedIndices();

//선택된 항목의 텍스트 얻기
String selectedItem  =  (String)  jList.getSelectedValue();
String[] selectedItems  =  (String[])  jList.getSelectedValues();

//선택된 항목의 이미지 얻기
ImageIcon selectedItem  =  (ImageIcon)  jList.getSelectedValue();
ImageIcon[] selectedItem  =  (ImageIcon[])  jList.getSelectedValue();

만약  Shift  또는  Ctrl  키를 이용해서 두 개 이상의 항목을 선택했다면 선택된 항목의 인덱스와 값들

을 배열로 리턴하는 메소드를 사용하면 됩니다.

다음 예제는 좌측 목록에서 항목을 선택하면 해당 항목의 이미지를 오른쪽에 보여 준다.



>>> JListExample.java


```java
package sec08.exam01_jlist;

import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.GridLayout;
import java.util.Vector;
import javax.swing.ImageIcon;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JList;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.SwingUtilities;
import javax.swing.event.ListSelectionEvent;
import javax.swing.event.ListSelectionListener;

public class JListExample extends JFrame {
private JPanel pWest;
private JList listString;
private JList listImage;
private JLabel jLabel;
```

//메인 윈도우 설정
public JListExample() {
this.setTitle("JListExample");
this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
this.setSize(250, 200);
this.getContentPane().setBackground(Color.WHITE);
this.getContentPane().add(getPWest(), BorderLayout.WEST);
this.getContentPane().add(getJLabel(), BorderLayout.CENTER);

}

//좌측 목록 JPanel 생성
public JPanel getPWest() {
if (pWest  = =  null) {
pWest  =  new JPanel();
pWest.setLayout(new GridLayout(2, 1));
pWest.add(new JScrollPane(getListString()));




pWest.add(new JScrollPane(getListImage()));

}
return pWest;

}

//텍스트 목록을 갖는 JList 생성
public JList getListString() {
if (listString  = =  null) {
String[] items  =  {
"Cantaloupe", "Grapefruit", "Grapes", "Kiwi", "Peach",
"pineapple", "strawberry", "tomato", "watermelon"

};
listString  =  new JList(items);
listString.addListSelectionListener(new ListSelectionListener() {
```java
public void valueChanged(ListSelectionEvent e) {
if (!e.getValueIsAdjusting()) {
int selectedIndex  =  listString.getSelectedIndex();
ImageIcon image  =  new ImageIcon(
getClass().getResource("fruit" + (selectedIndex + 1) + ".jpg"));
getJLabel().setIcon(image);

}

}

});

}
return listString;

}
```

//이미지 목록을 갖는 JList 생성
public JList getListImage() {
if (listImage  = =  null) {
Vector items  =  new Vector();
for (int i  =  1; i < 10; i++) {
ImageIcon image  =  new ImageIcon(
getClass().getResource("fruit" + i + ".jpg"));
items.addElement(image);

}
listImage  =  new JList(items);
listImage.addListSelectionListener(new ListSelectionListener() {
```java
public void valueChanged(ListSelectionEvent e) {
if (!e.getValueIsAdjusting()) {



ImageIcon image  =  (ImageIcon) listImage.getSelectedValue();
getJLabel().setIcon(image);

}

}

});

}
return listImage;

}
```

//선택된 항목의 이미지를 보여주는 JLabel 생성
public JLabel getJLabel() {
if (jLabel  = =  null) {
jLabel  =  new JLabel();
jLabel.setHorizontalAlignment(JLabel.CENTER);

}
return jLabel;

}

```java
public static void main(String[] args) {
SwingUtilities.invokeLater(new Runnable() {
public void run() {
JListExample jFrame  =  new JListExample();
jFrame.setVisible(true);

}

});

}

}

```

실행 결과



JComboBox

JComboBox는 버튼을 클릭하면 항목이 나열되고 그 중 하나를 선택할 수 있습니다. JComboBox의

항목은 다음과 같이 배열로 주거나,

String[] items  =  { "one", "two", "tree", "four" }
JComboBox jComboBox  =  new JComboBox( items );

다음과 같이 Vector 객체로 줄 수 있습니다.

Vector items  =  new Vector();
items.add("one");
items.add("two");
items.add("tree");
items.add("four");
JComboBox jComboBox  =  new JComboBox( items );

JComboBox의 항목은 텍스트와 이미지 모두 가능하다. 이미지 항목은 ImageIcon 객체를 배열

또는 Vector 항목으로 만들면 됩니다.

Vector items  =  new Vector();
items.add( new ImageIcon( getClass().getResource("fruit1.gif") );
items.add( new ImageIcon( getClass().getResource("fruit2.gif") );
JComboBox jComboBox  =  new JComboBox( items );

JComboBox에서도  getSelectedIndex ( )  메소드는  선택된  항목의  인덱스을  리턴하고,

getSelectedItem ( )은 선택된 항목의 값을 리턴합니다.

//선택된 항목의 인덱스 얻기
int selectedIndex  =   jComboBox.getSelectedIndex();

//선택된 항목의 텍스트 얻기
String selectedItem  =  (String)  jComboBox.getSelectedValue();

//선택된 항목의 이미지 얻기
ImageIcon selectedItem  =  (ImageIcon)  jComboBox.getSelectedItem();



다음 예제는 상단의 JComboBox에서 항목을 선택하면, 해당 이미지를 아래에 보여 준다.

>>> JComboBoxExample.java


```java
package sec08.exam02_jcombobox;

import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.Vector;
import javax.swing.ImageIcon;
import javax.swing.JComboBox;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.SwingUtilities;

public class JComboBoxExample extends JFrame {
private JPanel pNorth;
private JComboBox comboString;
private JComboBox comboImage;
private JLabel jLabel;
```

//메인 윈도우 설정
public JComboBoxExample() {
this.setTitle("JComboBoxExample");
this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
this.getContentPane().setBackground(Color.WHITE);
this.getContentPane().add(getPNorth(), BorderLayout.NORTH);
this.getContentPane().add(getJLabel(), BorderLayout.CENTER);
this.setSize(250, 200);

}

//상단 목록 JPanel 생성
public JPanel getPNorth() {
if (pNorth  = =  null) {
pNorth  =  new JPanel();
pNorth.add(getComboString());
pNorth.add(getComboImage());




}
return pNorth;

}

//텍스트 목록을 갖는 JComboBox 생성
public JComboBox getComboString() {
if (comboString  = =  null) {
String[] arrString  =  {
"Cantaloupe", "Grapefruit", "Grapes", "Kiwi", "Peach",
"pineapple", "strawberry", "tomato", "watermelon" };
comboString  =  new JComboBox(arrString);
comboString.setBackground(Color.WHITE);
comboString.addActionListener(new ActionListener() {
```java
public void actionPerformed(ActionEvent e) {
int selectedIndex  =  comboString.getSelectedIndex();
ImageIcon image  =  new ImageIcon(
getClass().getResource("fruit" + (selectedIndex + 1) + ".jpg"));
getJLabel().setIcon(image);

}

});

}
return comboString;

}
```

//이미지 목록을 갖는 JComboBox 생성
public JComboBox getComboImage() {
if (comboImage  = =  null) {
Vector vImage  =  new Vector();
for (int i  =  1; i < 10; i++) {
ImageIcon image  =  new ImageIcon(
getClass().getResource("fruit" + i + ".jpg"));
vImage.add(image);

}
comboImage  =  new JComboBox(vImage);
comboImage.setBackground(Color.WHITE);
comboImage.addActionListener(new ActionListener() {
```java
public void actionPerformed(ActionEvent e) {
ImageIcon image  =  (ImageIcon) comboImage.getSelectedItem();
getJLabel().setIcon(image);

}



});

}
return comboImage;

}
```

//선택된 항목의 이미지를 보여주는 JLabel 생성
public JLabel getJLabel() {
if (jLabel  = =  null) {
jLabel  =  new JLabel();
jLabel.setHorizontalAlignment(JLabel.CENTER);

}
return jLabel;

}

```java
public static void main(String[] args) {
SwingUtilities.invokeLater(new Runnable() {
public void run() {
JComboBoxExample jFrame  =  new JComboBoxExample();
jFrame.setVisible(true);

}

});

}

}

```

실행 결과



