---
layout: part05
title: "21.2 로컬(지역) 변수 타입 추론"
nav_order: 2
parent: "Chapter 21. 스트림 심화"
grand_parent: "최신 자바"
---

# 21.2 로컬(지역) 변수 타입 추론

자바 11부터는 로컬(지역) 변수를 위한 타입 추론(type inference for local variable) 기능을 사용할 수 있다. 로컬 변수를 선언할 때 예약된 타입(reserved type)인 `var`를 사용하면 컴파일 시에 로컬 변수에 대입되는 값을 보고 컴파일러가 추론(inference)해서 타입을 결정한다.

전통적으로 자바는 로컬 변수를 선언할 때 대입되는 값에 따라서 다음과 같이 구체적인 타입을 사용해야 한다.

```java
void method() {
    String name = "홍길동";
    int age = 25;
}
```

위 코드를 예약된 타입인 `var`로 변경하면 대입되는 값에 상관없이 다음과 같이 작성할 수 있다.

```java
void method() {
    var name = "홍길동";
    var age = 25;
}
```

`name`에는 문자열이 대입되었고, `age`에는 정수가 대입되었기 때문에 컴파일 시에 각각 `String`과 `int` 타입으로 최종 결정된다.

로컬 변수 타입 추론 기능은 개발자들 사이에서 다소 논란이 있다. 코드의 간결성을 중요시하는 사람들은 환영하지만, 코드의 가독성을 중요시하는 사람들은 중요한 타입 정보가 없어짐에 따라 가독성이 떨어져서 나쁜 코드가 작성될 수 있다고 말한다. 필자도 가독성이 떨어진다는 생각에는 동의하지 않지만, 변수 이름만 잘 지어 준다면 `var`를 사용하더라도 가독성을 크게 해치지 않는다.

## 예약된 타입 var 제한

예약된 타입 `var`는 생성자(Constructor) 또는 메소드(Method) 안에서 로컬 변수를 선언할 때만 사용할 수 있다. 클래스나 인터페이스의 필드를 선언할 때는 사용할 수 없다.

```java
class 클래스명 {
    // var 필드명;  // 컴파일 에러
}
interface 인터페이스명 {
    // var 상수명 = 값; // 컴파일 에러
}
```
