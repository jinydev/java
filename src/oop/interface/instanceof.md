---
layout: oop
title: "11.11 ê°ì²´ íƒ€ì… í™•ì¸ (instanceof)"
nav_order: 11
parent: "Chapter 11. ì¸í„°í˜ì´ìŠ¤"
grand_parent: "ê°ì²´ì§€í–¥ ìë°” í”„ë¡œê·¸ë˜ë°"
---

# 11.11 ê°ì²´ íƒ€ì… í™•ì¸ (instanceof)

ê°•ì œ íƒ€ì… ë³€í™˜(Downcasting)ì„ í•˜ê¸° ì „ì—, ì´ ê°ì²´ê°€ ì§„ì§œ ë‚´ê°€ ìƒê°í•˜ëŠ” ê·¸ íƒ€ì…ì´ ë§ëŠ”ì§€ **ë°˜ë“œì‹œ í™•ì¸**í•´ì•¼ í•©ë‹ˆë‹¤.
í™•ì¸í•˜ì§€ ì•Šê³  ë³€í™˜í–ˆë‹¤ê°€ëŠ” í”„ë¡œê·¸ë¨ì´ í„°ì§ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. (`ClassCastException` í­íƒ„!)

### ğŸ’¡ í•µì‹¬ ë¹„ìœ : ê³µí•­ ë³´ì•ˆ ê²€ìƒ‰ (ì‹ ë¶„ì¦ ê²€ì‚¬)
> **"ë¹„í–‰ê¸°ë¥¼ íƒœìš°ê¸° ì „(Cast), ìŠ¹ê°ì˜ ì—¬ê¶Œ(instanceof)ì„ ë°˜ë“œì‹œ í™•ì¸í•´ì•¼ í•œë‹¤. ì—‰ëš±í•œ ì‚¬ëŒì„ íƒœìš°ë©´ í°ì¼ ë‚œë‹¤."**

![ID Check](./img/interface_instanceof.svg)

---


<br>

## 1. ì‚¬ìš©ë²•

`instanceof` ì—°ì‚°ìëŠ” ì¢Œë³€ì˜ ê°ì²´ê°€ ìš°ë³€ì˜ íƒ€ì…ì´ë©´ `true`, ì•„ë‹ˆë©´ `false`ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

```java
boolean result = ê°ì²´ instanceof íƒ€ì…;
```

```java
public void ride(Vehicle vehicle) {
    // "í˜¹ì‹œ... ë²„ìŠ¤ ë§ìœ¼ì„¸ìš”?" í™•ì¸
    if (vehicle instanceof Bus) {
        // "ì•„, ë²„ìŠ¤ ë§êµ°ìš”! ê·¸ëŸ¼ ë²„ìŠ¤ë¡œ ë³€í™˜í•´ ë“œë¦´ê²Œìš”."
        Bus bus = (Bus) vehicle;
        bus.checkFare(); 
    } else {
        System.out.println("ë²„ìŠ¤ê°€ ì•„ë‹™ë‹ˆë‹¤. ìš”ê¸ˆ í™•ì¸ ë¶ˆê°€!");
    }
}
```


<br>

## 2. ì²˜ë¦¬ íë¦„ë„ (Flowchart)

ì•ˆì „í•œ íƒ€ì… ë³€í™˜ì„ ìœ„í•œ ì •ì„ì ì¸ íë¦„ì…ë‹ˆë‹¤.

![Flowchart](./img/interface_instanceof_flow.svg)


<br>

## 3. Java 12 ì´í›„ì˜ ê°œì„  (Pattern Matching)

Java 12ë¶€í„°ëŠ” `instanceof`ì™€ ë™ì‹œì— ë³€ìˆ˜ ì„ ì–¸ì´ ê°€ëŠ¥í•´ì ¸ì„œ ì½”ë“œê°€ í›¨ì”¬ ê°„ê²°í•´ì¡ŒìŠµë‹ˆë‹¤.

```java
// [Java 11 ì´ì „] í™•ì¸ ë”°ë¡œ, ë³€í™˜ ë”°ë¡œ
if (vehicle instanceof Bus) {
    Bus bus = (Bus) vehicle;
    bus.checkFare();
}

// [Java 12 ì´í›„] í™•ì¸ê³¼ ë™ì‹œì— ë³€ìˆ˜ 'bus' ìƒì„±!
if (vehicle instanceof Bus bus) {
    bus.checkFare(); // ë°”ë¡œ ì‚¬ìš© ê°€ëŠ¥
}
```

ì´ íŒ¨í„´ ë§¤ì¹­ ê¸°ëŠ¥ì„ í™œìš©í•˜ë©´ ì§€ë£¨í•œ ë°˜ë³µ ì½”ë“œë¥¼ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
