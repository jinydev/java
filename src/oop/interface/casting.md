---
layout: oop
title: "11.10 νƒ€μ… λ³€ν™"
nav_order: 10
parent: "Chapter 11. μΈν„°νμ΄μ¤"
grand_parent: "κ°μ²΄μ§€ν–¥ μλ°” ν”„λ΅κ·Έλλ°"
---

# 11.10 νƒ€μ… λ³€ν™ (Casting)

μΈν„°νμ΄μ¤μ νƒ€μ… λ³€ν™μ€ κ°μ²΄λ¥Ό λ” λ„“κ² μ“°κ±°λ‚(μλ™), λ‹¤μ‹ μ›λλ€λ΅ μΆκ² μ“°λ”(κ°•μ ) κ³Όμ •μ„ λ§ν•©λ‹λ‹¤.
**μƒμ† κ΄€κ³„μ—μ„μ νƒ€μ… λ³€ν™**κ³Ό μ›λ¦¬λ” μ™„μ „ν λ™μΌν•©λ‹λ‹¤.

### π’΅ ν•µμ‹¬ λΉ„μ : μ—°μμΈμ μ‚¬μƒν™
> **"λ¬΄λ€ μ„μ—μ„λ” λ¨λ‘κ°€ 'κ°€μ(Interface)'λ΅ λ¶λ¦¬μ§€λ§, μ§‘μ— λμ•„κ°€λ©΄ λ„κµ°κ°€λ” 'μ² μ'μ΄κ³  λ„κµ°κ°€λ” 'μν¬'μ΄λ‹¤. λ³Έλμ μ‚¶(κ³ μ  κΈ°λ¥)μ„ μ‚΄λ ¤λ©΄ κ°€λ©΄μ„ λ²—μ–΄μ•Ό ν•λ‹¤."**

![Interface Casting](./img/interface_casting.svg)

---


<br>

## 1. μλ™ νƒ€μ… λ³€ν™ (Upcasting)

**κµ¬ν„ κ°μ²΄**λ” **μΈν„°νμ΄μ¤ νƒ€μ…**μΌλ΅ μλ™ λ³€ν™λ  μ μμµλ‹λ‹¤.
μ™λƒν•λ©΄ κµ¬ν„ κ°μ²΄λ” μΈν„°νμ΄μ¤μ λ¨λ“  κΈ°λ¥μ„ κ°€μ§€κ³  μκΈ° λ•λ¬Έμ…λ‹λ‹¤. (Is-A κ΄€κ³„)

```java
// "λ²„μ¤λ” νƒκ²ƒ(Vehicle)μ΄λ‹¤." (λ§μ΄ λ©λ‹λ‹¤!)
Vehicle vehicle = new Bus();
```

### νΉμ§•
*   λ³€ν™λ `vehicle` λ³€μλ΅λ” **`Vehicle` μΈν„°νμ΄μ¤μ— μ •μλ λ©”μ†λ“λ§** νΈμ¶ν•  μ μμµλ‹λ‹¤.
*   `Bus`κ°€ κ°€μ§„ `checkFare()` κ°™μ€ κ³ μ  κΈ°λ¥μ€ κ°€λ ¤μ Έμ„ λ³΄μ΄μ§€ μ•μµλ‹λ‹¤.


<br>

## 2. κ°•μ  νƒ€μ… λ³€ν™ (Downcasting)

μλ™ λ³€ν™λ μƒνƒμ—μ„, **λ‹¤μ‹ μ›λμ κµ¬ν„ ν΄λμ¤ νƒ€μ…μΌλ΅ λλλ¦¬λ” κ²ƒ**μ…λ‹λ‹¤.
μ΄λ•λ” κ°λ°μκ°€ **"λ‚΄κ°€ μ±…μ„μ§ ν…λ‹ λ°”κΏ”μ¤!"**λΌκ³  κ°•μ λ΅ λ…λ Ή(`(Type)`)ν•΄μ•Ό ν•©λ‹λ‹¤.

```java
// "μ΄ νƒκ²ƒμ„ λ‹¤μ‹ λ²„μ¤λ΅ λλλ ¤λΌ!"
Bus bus = (Bus) vehicle;

// μ΄μ  λ²„μ¤λ§μ κ³ μ  κΈ°λ¥μ„ μ“Έ μ μλ‹¤!
bus.checkFare(); 
```

### μ™ ν• κΉμ”?
μΈν„°νμ΄μ¤ νƒ€μ…μΌλ΅ λ°›μ•„μ¨ κ°μ²΄λ¥Ό μ‚¬μ©ν•λ‹¤κ°€, **νΉμ • κµ¬ν„ κ°μ²΄λ§ κ°€μ§€κ³  μλ” κ³ μ ν• κΈ°λ¥**μ΄ κΈ‰ν•κ² ν•„μ”ν•  λ• μ‚¬μ©ν•©λ‹λ‹¤.


<br>

## 3. μ£Όμμ‚¬ν•­ (ClassCastException)

λ§μ•½ `Bus`κ°€ μ•„λ‹ `Taxi`λ¥Ό μ–µμ§€λ΅ `Bus`λ΅ λ°”κΎΈλ ¤κ³  ν•λ©΄ μ–΄λ–»κ² λ κΉμ”?

![Casting Fail](./img/interface_casting_fail.svg)

```java
Vehicle vehicle = new Taxi();
Bus bus = (Bus) vehicle; // μ—λ¬ λ°μƒ! (ClassCastException)
```

μλ°”λ” μ‹¤ν–‰ λ„μ¤‘μ— μ—λ¬λ¥Ό λΏμΌλ©° λ©μ¶°λ²„λ¦½λ‹λ‹¤. λ§μΉ **"νƒμ‹ λ³΄κ³  λ²„μ¤ μ •λ¥μ¥μ— μ„λΌλ” κΌ΄"**μ΄κΈ° λ•λ¬Έμ…λ‹λ‹¤.
κ·Έλμ„ κ°•μ  λ³€ν™ μ „μ—λ” λ°λ“μ‹ `instanceof`λ΅ ν™•μΈν•λ” μ μ°¨κ°€ ν•„μ”ν•©λ‹λ‹¤. (11.12μ  μ°Έμ΅°)
