---
layout: oop
title: "6.16 ë ˆì½”ë“œ"
nav_order: 16
parent: "Chapter 06. í´ë˜ìŠ¤"
grand_parent: "ê°ì²´ì§€í–¥ ìë°” í”„ë¡œê·¸ë˜ë°"
---

# 6.16 ë ˆì½”ë“œ (ë°ì´í„° ë³´ê´€ ìƒì)

<br>

## 6.16.1 ë ˆì½”ë“œ(Record)ë€?

**"ë°ì´í„°ë¥¼ ì•ˆì „í•˜ê²Œ ë°°ë‹¬í•˜ëŠ” ë°€ë´‰ëœ ìƒì"**

í”„ë¡œê·¸ë˜ë°ì„ í•˜ë‹¤ ë³´ë©´ ë‹¨ìˆœíˆ ë°ì´í„°ë¥¼ ë³´ê´€í•˜ê±°ë‚˜ ì „ë‹¬í•˜ê¸° ìœ„í•œ ê°ì²´(DTO, Data Transfer Object)ë¥¼ ìì£¼ ë§Œë“¤ê²Œ ë©ë‹ˆë‹¤. ì˜ˆì „ì—ëŠ” ì´ë¥¼ ìœ„í•´ ì—„ì²­ë‚˜ê²Œ ê¸´ ì½”ë“œë¥¼ ì‘ì„±í•´ì•¼ í–ˆì§€ë§Œ, ìë°” 14ë¶€í„°ëŠ” **`record`** í‚¤ì›Œë“œë¡œ í•œ ì¤„ì´ë©´ ì¶©ë¶„í•´ì¡ŒìŠµë‹ˆë‹¤.

> **ë¹„ìœ : ë°€ë´‰ëœ íƒë°° ìƒì**
> *   **ìƒì„±**: ìƒìì— ë¬¼ê±´(ë°ì´í„°)ì„ ë„£ê³  í…Œì´í”„ë¡œ ë°€ë´‰í•©ë‹ˆë‹¤. created
> *   **ì‚¬ìš©**: íˆ¬ëª…í•œ ì°½ë¬¸(Getter)ìœ¼ë¡œ ë‚´ìš©ì„ ë³¼ ìˆ˜ëŠ” ìˆì§€ë§Œ, ë°€ë´‰ë˜ì–´ ìˆì–´ì„œ ë‚´ìš©ë¬¼ì„ ë°”ê¿€ ìˆ˜ëŠ”(Setter ì—†ìŒ) ì—†ìŠµë‹ˆë‹¤. ì´ë¥¼ **ë¶ˆë³€(Immutable) ê°ì²´**ë¼ê³  í•©ë‹ˆë‹¤.

![Record Concept](./img/record_concept_box.svg)

<br>
<br>

## 6.16.2 ì–¼ë§ˆë‚˜ ê°„í¸í•´ì¡Œì„ê¹Œìš”?

ê¸°ì¡´ í´ë˜ìŠ¤ë¡œ "ì´ë¦„ê³¼ ë‚˜ì´"ë¥¼ ê°€ì§„ ì‚¬ëŒì„ ë§Œë“¤ë ¤ë©´ **50ì¤„**ì´ ë„˜ëŠ” ì½”ë“œê°€ í•„ìš”í–ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ë ˆì½”ë“œëŠ” ë‹¨ **1ì¤„**ì´ë©´ ë©ë‹ˆë‹¤.

![Class vs Record Code](./img/class_vs_record_code.svg)

### ğŸ’» ì½”ë“œ ì˜ˆì‹œ

```java
// ê¸°ì¡´ ë°©ì‹ (ë„ˆë¬´ ê¸¸ë‹¤...)
public class Person {
    private final String name;
    private final int age;

    public Person(String name, int age) {
        this.name = name;
        this.age = age;
    }

    public String name() { return name; }
    public int age() { return age; }
    
    // equals, hashCode, toString ... (ìƒëµ)
}
```

```java
// ë ˆì½”ë“œ ë°©ì‹ (ê¹”ë”!)
public record Person(String name, int age) {}
```


### ğŸ” ì½”ë“œë¥¼ ë‹¤ì‹œ í•œë²ˆ ì›ë¦¬ì™€ ë™ì‘ì„ ì‚´í´ë´…ë‹ˆë‹¤

*   **ìë™ ìƒì„±**: `record`ë¥¼ ì“°ë©´ ì»´íŒŒì¼ëŸ¬ê°€ ì•Œì•„ì„œ ë‹¤ìŒì„ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.
    1.  **private final í•„ë“œ**: ë°ì´í„°ë¥¼ ë°”ê¿€ ìˆ˜ ì—†ê²Œ `final`ë¡œ ì„ ì–¸í•©ë‹ˆë‹¤.
    2.  **ìƒì„±ì**: ë°ì´í„°ë¥¼ ë°›ì•„ì„œ í•„ë“œì— ë„£ëŠ” ì´ˆê¸°í™” ì½”ë“œë¥¼ ë§Œë“­ë‹ˆë‹¤.
    3.  **Getter**: `getName()` ëŒ€ì‹  `name()`ì´ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ê°’ì„ êº¼ë‚´ëŠ” ë©”ì†Œë“œë¥¼ ë§Œë“­ë‹ˆë‹¤.
    4.  **toString()**: ê°ì²´ ë‚´ìš©ì„ ì˜ˆì˜ê²Œ ì¶œë ¥í•´ì¤ë‹ˆë‹¤. (`Person[name=Kim, age=20]`)
    5.  **equals() & hashCode()**: ë‘ ê°ì²´ì˜ ë‚´ìš©ë¬¼ì´ ê°™ì€ì§€ ë¹„êµí•˜ëŠ” ê¸°ëŠ¥ì„ ë§Œë“­ë‹ˆë‹¤.

<br>
<br>

## 6.16.3 ë ˆì½”ë“œ ì‚¬ìš©í•˜ê¸°

ë ˆì½”ë“œëŠ” ì¼ë°˜ í´ë˜ìŠ¤ì²˜ëŸ¼ `new` í‚¤ì›Œë“œë¡œ ìƒì„±í•˜ê³  ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.

### ğŸ’» ì½”ë“œ ì˜ˆì‹œ

```java
public class RecordExample {
    public static void main(String[] args) {
        // 1. ë ˆì½”ë“œ ê°ì²´ ìƒì„± (íƒë°° ìƒì í¬ì¥)
        Person p = new Person("Kim", 20);
        
        // 2. ë°ì´í„° êº¼ë‚´ê¸° (íˆ¬ëª… ì°½ë¬¸ìœ¼ë¡œ ë³´ê¸°)
        System.out.println("ì´ë¦„: " + p.name()); // getName() ì•„ë‹˜!
        System.out.println("ë‚˜ì´: " + p.age());
        
        // 3. ë‚´ìš©ë¬¼ í™•ì¸ (toString ìë™ ì ìš©)
        System.out.println(p); // ì¶œë ¥: Person[name=Kim, age=20]
        
        // 4. ë¶ˆë³€ì„± (ìˆ˜ì • ë¶ˆê°€)
        // p.name = "Lee"; // ì—ëŸ¬! ìˆ˜ì •í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
        // p.setName("Lee"); // ì—ëŸ¬! Setter ë©”ì†Œë“œ ìì²´ê°€ ì—†ìŠµë‹ˆë‹¤.
    }
}
```

<br>
<br>

## 6.16.4 ë ˆì½”ë“œ íŒ¨í„´ (Java 21)

ìë°” 21ë¶€í„°ëŠ” ë ˆì½”ë“œì˜ ë‚´ìš©ì„ ë” ì‰½ê²Œ êº¼ë‚¼ ìˆ˜ ìˆëŠ” **ë ˆì½”ë“œ íŒ¨í„´** ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤. ìƒìë¥¼ ì—´ì–´ì„œ ë‚´ìš©ë¬¼ì„ ë³€ìˆ˜ì— ë°”ë¡œ ë‹´ì•„ì£¼ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.

### ğŸ’» ì½”ë“œ ì˜ˆì‹œ

```java
Object obj = new Person("Park", 30);

if (obj instanceof Person(String n, int a)) {
    // êº¼ë‚´ì§„ ë°ì´í„°ê°€ n(ì´ë¦„), a(ë‚˜ì´) ë³€ìˆ˜ì— ìë™ìœ¼ë¡œ ë“¤ì–´ê°
    System.out.println("ì´ë¦„: " + n);
    System.out.println("ë‚˜ì´: " + a);
}
```

ì´ì „ì—ëŠ” `Person p = (Person) obj;` ì²˜ëŸ¼ í˜•ë³€í™˜ì„ í•˜ê³  `p.name()`ì„ í˜¸ì¶œí•´ì•¼ í–ˆì§€ë§Œ, ì´ì œëŠ” í›¨ì”¬ ì§ê´€ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
